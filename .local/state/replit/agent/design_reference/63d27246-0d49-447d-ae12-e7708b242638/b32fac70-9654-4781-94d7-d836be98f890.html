<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Agendamento Online - Salão de Beleza</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    },
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        background: '#FAFAFA'
                    }
                }
            }
        };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #FAFAFA;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.25rem;
        }
        
        .time-slot:hover:not(.disabled) {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .loading-spinner {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3B82F6;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen bg-background">
    
    <!-- @COMPONENT: AppContainer -->
    <div id="app" class="min-h-screen">
        
        <!-- CLIENT BOOKING VIEW -->
        <div id="client-view" class="fade-in">
            <!-- Hero Section -->
            <div class="bg-gradient-to-br from-primary to-blue-600 text-white">
                <div class="container mx-auto px-4 py-12 text-center">
                    <div class="max-w-2xl mx-auto">
                        <i class="fas fa-calendar-check text-4xl mb-4"></i>
                        <h1 class="text-3xl md:text-4xl font-bold mb-4">Agende seu Horário</h1>
                        <p class="text-xl opacity-90">Reserve seu atendimento de forma rápida e fácil</p>
                    </div>
                </div>
            </div>

            <!-- Booking Form -->
            <div class="container mx-auto px-4 py-8">
                <div class="max-w-lg mx-auto">
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        
                        <!-- Step Indicator -->
                        <div class="flex items-center justify-center mb-8">
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-semibold">1</div>
                                    <span class="ml-2 text-sm font-medium text-gray-700">Dados</span>
                                </div>
                                <div class="w-8 h-px bg-gray-300"></div>
                                <div class="flex items-center">
                                    <div class="w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-semibold">2</div>
                                    <span class="ml-2 text-sm font-medium text-gray-500">Data</span>
                                </div>
                                <div class="w-8 h-px bg-gray-300"></div>
                                <div class="flex items-center">
                                    <div class="w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-semibold">3</div>
                                    <span class="ml-2 text-sm font-medium text-gray-500">Horário</span>
                                </div>
                            </div>
                        </div>

                        <!-- Step 1: Contact Information -->
                        <div id="step-1" class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-user mr-1"></i> Nome completo
                                </label>
                                <input 
                                    type="text" 
                                    id="client-name"
                                    data-bind="booking.clientName"
                                    placeholder="Digite seu nome"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"
                                    data-mock="true"
                                />
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fab fa-whatsapp mr-1"></i> WhatsApp
                                </label>
                                <input 
                                    type="tel" 
                                    id="client-phone"
                                    data-bind="booking.clientPhone"
                                    placeholder="(11) 99999-9999"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"
                                    data-mask="phone"
                                    data-mock="true"
                                />
                                <p class="text-xs text-gray-500 mt-1">Usado apenas para confirmação do agendamento</p>
                            </div>

                            <button 
                                onclick="nextStep(2)"
                                data-event="click:validateContactInfo"
                                class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-blue-600 focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200"
                            >
                                Continuar
                                <i class="fas fa-arrow-right ml-2"></i>
                            </button>
                        </div>

                        <!-- Step 2: Date Selection -->
                        <div id="step-2" class="hidden space-y-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800">Escolha a Data</h3>
                                <button 
                                    onclick="nextStep(1)"
                                    class="text-gray-500 hover:text-gray-700"
                                >
                                    <i class="fas fa-arrow-left"></i> Voltar
                                </button>
                            </div>

                            <!-- Calendar Header -->
                            <div class="bg-gray-50 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-4">
                                    <button class="p-2 hover:bg-gray-200 rounded">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <h4 class="font-semibold text-gray-800" data-bind="calendar.currentMonth">Janeiro 2024</h4>
                                    <button class="p-2 hover:bg-gray-200 rounded">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>

                                <!-- Calendar Grid -->
                                <!-- @FUNCTIONALITY: Calendar should highlight available dates and disable past/unavailable dates -->
                                <div class="calendar-grid text-center text-sm">
                                    <div class="py-2 font-medium text-gray-600">Dom</div>
                                    <div class="py-2 font-medium text-gray-600">Seg</div>
                                    <div class="py-2 font-medium text-gray-600">Ter</div>
                                    <div class="py-2 font-medium text-gray-600">Qua</div>
                                    <div class="py-2 font-medium text-gray-600">Qui</div>
                                    <div class="py-2 font-medium text-gray-600">Sex</div>
                                    <div class="py-2 font-medium text-gray-600">Sáb</div>
                                    
                                    <!-- @MAP: generateCalendarDays().map(day => ( -->
                                    <button class="aspect-square p-2 text-gray-400" disabled>31</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(1)">1</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(2)">2</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(3)">3</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(4)">4</button>
                                    <button class="aspect-square p-2 bg-primary text-white rounded-lg">5</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(6)">6</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(7)">7</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(8)">8</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(9)">9</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(10)">10</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(11)">11</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(12)">12</button>
                                    <button class="aspect-square p-2 hover:bg-primary hover:text-white rounded-lg transition-colors" onclick="selectDate(13)">13</button>
                                    <!-- @END_MAP -->
                                </div>
                            </div>

                            <div class="bg-blue-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <i class="fas fa-info-circle text-primary mr-2"></i>
                                    <span class="text-sm text-gray-700" data-bind="selectedDate">Data selecionada: 5 de Janeiro, 2024</span>
                                </div>
                            </div>

                            <button 
                                onclick="nextStep(3)"
                                data-event="click:proceedToTimeSelection"
                                class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-blue-600 focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200"
                            >
                                Ver Horários Disponíveis
                                <i class="fas fa-arrow-right ml-2"></i>
                            </button>
                        </div>

                        <!-- Step 3: Time Selection -->
                        <div id="step-3" class="hidden space-y-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800">Escolha o Horário</h3>
                                <button 
                                    onclick="nextStep(2)"
                                    class="text-gray-500 hover:text-gray-700"
                                >
                                    <i class="fas fa-arrow-left"></i> Voltar
                                </button>
                            </div>

                            <div class="bg-blue-50 p-4 rounded-lg mb-6">
                                <div class="flex items-center">
                                    <i class="fas fa-calendar text-primary mr-2"></i>
                                    <span class="text-sm font-medium text-gray-700" data-bind="selectedDate">5 de Janeiro, 2024</span>
                                </div>
                            </div>

                            <!-- Time Slots -->
                            <!-- @FUNCTIONALITY: Load available time slots based on selected date -->
                            <div class="space-y-4">
                                <h4 class="font-medium text-gray-700">Manhã</h4>
                                <div class="grid grid-cols-3 gap-3">
                                    <!-- @MAP: morningSlots.map(slot => ( -->
                                    <button 
                                        class="time-slot p-3 border-2 border-gray-200 rounded-lg text-center hover:border-primary hover:bg-blue-50 transition-all duration-200"
                                        onclick="selectTime('09:00')"
                                        data-time="09:00"
                                        data-mock="true"
                                    >
                                        <div class="text-sm font-medium">09:00</div>
                                    </button>
                                    <button 
                                        class="time-slot p-3 border-2 border-gray-200 rounded-lg text-center hover:border-primary hover:bg-blue-50 transition-all duration-200"
                                        onclick="selectTime('09:30')"
                                        data-time="09:30"
                                        data-mock="true"
                                    >
                                        <div class="text-sm font-medium">09:30</div>
                                    </button>
                                    <button 
                                        class="time-slot p-3 border-2 border-gray-200 rounded-lg text-center hover:border-primary hover:bg-blue-50 transition-all duration-200"
                                        onclick="selectTime('10:00')"
                                        data-time="10:00"
                                        data-mock="true"
                                    >
                                        <div class="text-sm font-medium">10:00</div>
                                    </button>
                                    <button 
                                        class="time-slot disabled p-3 border-2 border-gray-200 rounded-lg text-center bg-gray-100 text-gray-400 cursor-not-allowed"
                                        disabled
                                        data-mock="true"
                                    >
                                        <div class="text-sm font-medium">10:30</div>
                                        <div class="text-xs">Ocupado</div>
                                    </button>
                                    <button 
                                        class="time-slot p-3 border-2 border-primary bg-blue-50 border-primary rounded-lg text-center"
                                        data-time="11:00"
                                        data-mock="true"
                                    >
                                        <div class="text-sm font-medium text-primary">11:00</div>
                                        <div class="text-xs text-primary">Selecionado</div>
                                    </button>
                                    <!-- @END_MAP -->
                                </div>

                                <h4 class="font-medium text-gray-700 pt-4">Tarde</h4>
                                <div class="grid grid-cols-3 gap-3">
                                    <!-- @MAP: afternoonSlots.map(slot => ( -->
                                    <button 
                                        class="time-slot p-3 border-2 border-gray-200 rounded-lg text-center hover:border-primary hover:bg-blue-50 transition-all duration-200"
                                        onclick="selectTime('14:00')"
                                        data-time="14:00"
                                        data-mock="true"
                                    >
                                        <div class="text-sm font-medium">14:00</div>
                                    </button>
                                    <button 
                                        class="time-slot p-3 border-2 border-gray-200 rounded-lg text-center hover:border-primary hover:bg-blue-50 transition-all duration-200"
                                        onclick="selectTime('14:30')"
                                        data-time="14:30"
                                        data-mock="true"
                                    >
                                        <div class="text-sm font-medium">14:30</div>
                                    </button>
                                    <button 
                                        class="time-slot p-3 border-2 border-gray-200 rounded-lg text-center hover:border-primary hover:bg-blue-50 transition-all duration-200"
                                        onclick="selectTime('15:00')"
                                        data-time="15:00"
                                        data-mock="true"
                                    >
                                        <div class="text-sm font-medium">15:00</div>
                                    </button>
                                    <!-- @END_MAP -->
                                </div>
                            </div>

                            <button 
                                id="confirm-booking"
                                onclick="confirmBooking()"
                                data-event="click:submitBooking"
                                class="w-full bg-secondary text-white py-3 rounded-lg font-medium hover:bg-green-600 focus:ring-2 focus:ring-secondary focus:ring-offset-2 transition-all duration-200 flex items-center justify-center"
                            >
                                <span id="confirm-text">Confirmar Agendamento</span>
                                <div id="loading-spinner" class="loading-spinner ml-2 hidden"></div>
                                <i id="confirm-icon" class="fas fa-check ml-2"></i>
                            </button>
                        </div>

                        <!-- Success Message -->
                        <div id="success-message" class="hidden text-center space-y-4">
                            <div class="w-16 h-16 bg-secondary rounded-full flex items-center justify-center mx-auto">
                                <i class="fas fa-check text-white text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-800">Agendamento Confirmado!</h3>
                            <div class="bg-green-50 p-4 rounded-lg">
                                <div class="space-y-2 text-sm">
                                    <div><strong>Nome:</strong> <span data-bind="booking.clientName" data-mock="true">Maria Silva</span></div>
                                    <div><strong>Data:</strong> <span data-bind="booking.date" data-mock="true">5 de Janeiro, 2024</span></div>
                                    <div><strong>Horário:</strong> <span data-bind="booking.time" data-mock="true">11:00</span></div>
                                    <div><strong>WhatsApp:</strong> <span data-bind="booking.phone" data-mock="true">(11) 99999-9999</span></div>
                                </div>
                            </div>
                            <p class="text-gray-600">Você receberá uma confirmação em breve!</p>
                            <button 
                                onclick="newBooking()"
                                class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors"
                            >
                                Fazer Novo Agendamento
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MANAGER DASHBOARD VIEW -->
        <div id="manager-view" class="hidden min-h-screen">
            <!-- Manager Header -->
            <div class="bg-white border-b border-gray-200">
                <div class="container mx-auto px-4">
                    <div class="flex items-center justify-between py-4">
                        <div class="flex items-center space-x-4">
                            <i class="fas fa-calendar-alt text-2xl text-primary"></i>
                            <h1 class="text-2xl font-bold text-gray-800">Painel do Gerente</h1>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-sm text-gray-600" data-bind="manager.name" data-mock="true">Administrador</span>
                            <button 
                                onclick="logout()"
                                class="text-gray-500 hover:text-gray-700"
                                title="Sair"
                            >
                                <i class="fas fa-sign-out-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Content -->
            <div class="container mx-auto px-4 py-8">
                
                <!-- Stats Cards -->
                <div class="grid md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Hoje</p>
                                <p class="text-2xl font-bold text-primary" data-bind="stats.todayBookings" data-mock="true">8</p>
                            </div>
                            <i class="fas fa-calendar-day text-3xl text-blue-200"></i>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Esta Semana</p>
                                <p class="text-2xl font-bold text-secondary" data-bind="stats.weekBookings" data-mock="true">42</p>
                            </div>
                            <i class="fas fa-calendar-week text-3xl text-green-200"></i>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Este Mês</p>
                                <p class="text-2xl font-bold text-purple-600" data-bind="stats.monthBookings" data-mock="true">186</p>
                            </div>
                            <i class="fas fa-calendar-alt text-3xl text-purple-200"></i>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Taxa Ocupação</p>
                                <p class="text-2xl font-bold text-orange-600" data-bind="stats.occupancyRate" data-mock="true">78%</p>
                            </div>
                            <i class="fas fa-chart-pie text-3xl text-orange-200"></i>
                        </div>
                    </div>
                </div>

                <!-- Date Filter -->
                <div class="bg-white rounded-xl shadow-md p-6 mb-8">
                    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                        <h2 class="text-xl font-semibold text-gray-800">Agendamentos</h2>
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-2">
                                <button 
                                    onclick="filterByDate('today')"
                                    class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors"
                                    data-event="click:filterToday"
                                >
                                    Hoje
                                </button>
                                <button 
                                    onclick="filterByDate('tomorrow')"
                                    class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors"
                                    data-event="click:filterTomorrow"
                                >
                                    Amanhã
                                </button>
                                <input 
                                    type="date" 
                                    id="date-picker"
                                    data-bind="filter.selectedDate"
                                    class="px-3 py-2 border border-gray-300 rounded-lg text-sm"
                                    onchange="filterByDate('custom')"
                                    data-event="change:filterCustomDate"
                                />
                            </div>
                            <button 
                                onclick="refreshBookings()"
                                class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors"
                                title="Atualizar"
                                data-event="click:refreshData"
                            >
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Appointments List -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <div class="px-6 py-4 border-b border-gray-200 bg-gray-50">
                        <div class="flex items-center justify-between">
                            <h3 class="font-semibold text-gray-800">
                                Agendamentos - <span data-bind="currentFilterDate" data-mock="true">5 de Janeiro, 2024</span>
                            </h3>
                            <span class="text-sm text-gray-600" data-bind="appointmentCount" data-mock="true">8 agendamentos</span>
                        </div>
                    </div>

                    <!-- Desktop Table View -->
                    <div class="hidden md:block overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Horário</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cliente</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Contato</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <!-- @MAP: appointments.map(appointment => ( -->
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <i class="fas fa-clock text-gray-400 mr-2"></i>
                                            <span class="text-sm font-medium text-gray-900" data-bind="appointment.time" data-mock="true">09:00</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <i class="fas fa-user text-gray-400 mr-2"></i>
                                            <span class="text-sm font-medium text-gray-900" data-bind="appointment.clientName" data-mock="true">Maria Silva</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="text-sm text-gray-900" data-bind="appointment.phone" data-mock="true">(11) 99999-9999</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                            Confirmado
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                        <a 
                                            href="https://wa.me/5511999999999" 
                                            target="_blank"
                                            class="inline-flex items-center px-3 py-1 bg-green-500 text-white rounded-lg text-sm hover:bg-green-600 transition-colors"
                                            data-implementation="Replace with dynamic phone number"
                                        >
                                            <i class="fab fa-whatsapp mr-1"></i>
                                            WhatsApp
                                        </a>
                                    </td>
                                </tr>
                                
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <i class="fas fa-clock text-gray-400 mr-2"></i>
                                            <span class="text-sm font-medium text-gray-900" data-bind="appointment.time" data-mock="true">09:30</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <i class="fas fa-user text-gray-400 mr-2"></i>
                                            <span class="text-sm font-medium text-gray-900" data-bind="appointment.clientName" data-mock="true">Ana Costa</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="text-sm text-gray-900" data-bind="appointment.phone" data-mock="true">(11) 98888-8888</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                            Pendente
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                        <a 
                                            href="https://wa.me/5511988888888" 
                                            target="_blank"
                                            class="inline-flex items-center px-3 py-1 bg-green-500 text-white rounded-lg text-sm hover:bg-green-600 transition-colors"
                                            data-implementation="Replace with dynamic phone number"
                                        >
                                            <i class="fab fa-whatsapp mr-1"></i>
                                            WhatsApp
                                        </a>
                                    </td>
                                </tr>

                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <i class="fas fa-clock text-gray-400 mr-2"></i>
                                            <span class="text-sm font-medium text-gray-900" data-bind="appointment.time" data-mock="true">11:00</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <i class="fas fa-user text-gray-400 mr-2"></i>
                                            <span class="text-sm font-medium text-gray-900" data-bind="appointment.clientName" data-mock="true">Carla Santos</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="text-sm text-gray-900" data-bind="appointment.phone" data-mock="true">(11) 97777-7777</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                            Confirmado
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                        <a 
                                            href="https://wa.me/5511977777777" 
                                            target="_blank"
                                            class="inline-flex items-center px-3 py-1 bg-green-500 text-white rounded-lg text-sm hover:bg-green-600 transition-colors"
                                            data-implementation="Replace with dynamic phone number"
                                        >
                                            <i class="fab fa-whatsapp mr-1"></i>
                                            WhatsApp
                                        </a>
                                    </td>
                                </tr>
                                <!-- @END_MAP -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Mobile Card View -->
                    <div class="md:hidden divide-y divide-gray-200">
                        <!-- @MAP: appointments.map(appointment => ( -->
                        <div class="p-4 hover:bg-gray-50" data-mock="true">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-clock text-gray-400"></i>
                                    <span class="font-medium text-gray-900" data-bind="appointment.time" data-mock="true">09:00</span>
                                </div>
                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                    Confirmado
                                </span>
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center">
                                    <i class="fas fa-user text-gray-400 w-4 mr-2"></i>
                                    <span class="text-sm text-gray-900" data-bind="appointment.clientName" data-mock="true">Maria Silva</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <i class="fas fa-phone text-gray-400 w-4 mr-2"></i>
                                        <span class="text-sm text-gray-600" data-bind="appointment.phone" data-mock="true">(11) 99999-9999</span>
                                    </div>
                                    <a 
                                        href="https://wa.me/5511999999999" 
                                        target="_blank"
                                        class="inline-flex items-center px-3 py-1 bg-green-500 text-white rounded-lg text-sm hover:bg-green-600 transition-colors"
                                        data-implementation="Replace with dynamic phone number"
                                    >
                                        <i class="fab fa-whatsapp mr-1"></i>
                                        WhatsApp
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-4 hover:bg-gray-50" data-mock="true">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-clock text-gray-400"></i>
                                    <span class="font-medium text-gray-900" data-bind="appointment.time" data-mock="true">09:30</span>
                                </div>
                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                    Pendente
                                </span>
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center">
                                    <i class="fas fa-user text-gray-400 w-4 mr-2"></i>
                                    <span class="text-sm text-gray-900" data-bind="appointment.clientName" data-mock="true">Ana Costa</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <i class="fas fa-phone text-gray-400 w-4 mr-2"></i>
                                        <span class="text-sm text-gray-600" data-bind="appointment.phone" data-mock="true">(11) 98888-8888</span>
                                    </div>
                                    <a 
                                        href="https://wa.me/5511988888888" 
                                        target="_blank"
                                        class="inline-flex items-center px-3 py-1 bg-green-500 text-white rounded-lg text-sm hover:bg-green-600 transition-colors"
                                        data-implementation="Replace with dynamic phone number"
                                    >
                                        <i class="fab fa-whatsapp mr-1"></i>
                                        WhatsApp
                                    </a>
                                </div>
                            </div>
                        </div>
                        <!-- @END_MAP -->
                    </div>

                    <!-- Empty State -->
                    <div id="empty-state" class="hidden p-8 text-center">
                        <i class="fas fa-calendar-times text-4xl text-gray-300 mb-4"></i>
                        <h3 class="text-lg font-medium text-gray-900 mb-2">Nenhum agendamento encontrado</h3>
                        <p class="text-gray-500">Não há agendamentos para esta data.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- LOGIN MODAL -->
        <div id="login-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-md mx-4">
                <div class="text-center mb-6">
                    <i class="fas fa-lock text-4xl text-primary mb-4"></i>
                    <h2 class="text-2xl font-bold text-gray-800">Acesso do Gerente</h2>
                    <p class="text-gray-600 mt-2">Digite suas credenciais para continuar</p>
                </div>

                <form class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Usuário</label>
                        <input 
                            type="text" 
                            id="login-username"
                            placeholder="Digite seu usuário"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"
                            data-mock="true"
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Senha</label>
                        <input 
                            type="password" 
                            id="login-password"
                            placeholder="Digite sua senha"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"
                            data-mock="true"
                        />
                    </div>

                    <button 
                        type="submit"
                        onclick="performLogin(event)"
                        data-event="click:authenticateManager"
                        class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-blue-600 focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200"
                    >
                        Entrar
                    </button>

                    <button 
                        type="button"
                        onclick="closeLoginModal()"
                        class="w-full text-gray-600 py-2 hover:text-gray-800 transition-colors"
                    >
                        Cancelar
                    </button>
                </form>
            </div>
        </div>

        <!-- Fixed Action Button (Access Manager) -->
        <button 
            id="manager-access-btn"
            onclick="showLoginModal()"
            class="fixed bottom-6 right-6 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-blue-600 focus:ring-4 focus:ring-primary focus:ring-opacity-50 transition-all duration-200 z-40"
            title="Acesso do Gerente"
        >
            <i class="fas fa-user-cog text-xl"></i>
        </button>
    </div>
    <!-- @END_COMPONENT: AppContainer -->

    <script>
        (function() {
            // TODO: Implement business logic, API calls, and state management
            
            // Step navigation
            window.nextStep = function(step) {
                // Hide all steps
                document.querySelectorAll('[id^="step-"]').forEach(el => {
                    el.classList.add('hidden');
                });
                
                // Show target step
                const targetStep = document.getElementById(`step-${step}`);
                if (targetStep) {
                    targetStep.classList.remove('hidden');
                    
                    // Update step indicators
                    updateStepIndicators(step);
                }
            };
            
            function updateStepIndicators(activeStep) {
                const indicators = document.querySelectorAll('.flex.items-center.space-x-4 .flex.items-center');
                indicators.forEach((indicator, index) => {
                    const circle = indicator.querySelector('div');
                    const text = indicator.querySelector('span');
                    
                    if (index + 1 <= activeStep) {
                        circle.className = 'w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-semibold';
                        text.className = 'ml-2 text-sm font-medium text-gray-700';
                    } else {
                        circle.className = 'w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-semibold';
                        text.className = 'ml-2 text-sm font-medium text-gray-500';
                    }
                });
            }

            // Phone number masking
            const phoneInput = document.getElementById('client-phone');
            if (phoneInput) {
                phoneInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    value = value.replace(/^(\d{2})(\d{5})(\d{4})$/, '($1) $2-$3');
                    e.target.value = value;
                });
            }

            // Date selection
            window.selectDate = function(day) {
                // Remove previous selection
                document.querySelectorAll('.calendar-grid button').forEach(btn => {
                    btn.classList.remove('bg-primary', 'text-white');
                    btn.classList.add('hover:bg-primary', 'hover:text-white');
                });
                
                // Add selection to clicked date
                event.target.classList.remove('hover:bg-primary', 'hover:text-white');
                event.target.classList.add('bg-primary', 'text-white');
            };

            // Time selection
            window.selectTime = function(time) {
                // Remove previous selection
                document.querySelectorAll('.time-slot:not(.disabled)').forEach(slot => {
                    slot.classList.remove('border-primary', 'bg-blue-50');
                    slot.classList.add('border-gray-200');
                    slot.innerHTML = `<div class="text-sm font-medium">${slot.dataset.time || time}</div>`;
                });
                
                // Add selection to clicked time
                event.target.classList.remove('border-gray-200');
                event.target.classList.add('border-primary', 'bg-blue-50');
                event.target.innerHTML = `
                    <div class="text-sm font-medium text-primary">${time}</div>
                    <div class="text-xs text-primary">Selecionado</div>
                `;
            };

            // Booking confirmation
            window.confirmBooking = function() {
                const confirmBtn = document.getElementById('confirm-booking');
                const confirmText = document.getElementById('confirm-text');
                const loadingSpinner = document.getElementById('loading-spinner');
                const confirmIcon = document.getElementById('confirm-icon');
                
                // Show loading state
                confirmText.textContent = 'Confirmando...';
                loadingSpinner.classList.remove('hidden');
                confirmIcon.classList.add('hidden');
                confirmBtn.disabled = true;
                
                // Simulate API call
                setTimeout(() => {
                    // Hide all steps
                    document.querySelectorAll('[id^="step-"]').forEach(el => {
                        el.classList.add('hidden');
                    });
                    
                    // Show success message
                    document.getElementById('success-message').classList.remove('hidden');
                    
                    // Reset button
                    confirmText.textContent = 'Confirmar Agendamento';
                    loadingSpinner.classList.add('hidden');
                    confirmIcon.classList.remove('hidden');
                    confirmBtn.disabled = false;
                }, 2000);
            };

            // New booking
            window.newBooking = function() {
                // Reset form
                document.getElementById('client-name').value = '';
                document.getElementById('client-phone').value = '';
                
                // Hide success message and show first step
                document.getElementById('success-message').classList.add('hidden');
                nextStep(1);
                
                // Reset step indicators
                updateStepIndicators(1);
                
                // Reset selections
                document.querySelectorAll('.calendar-grid button').forEach(btn => {
                    btn.classList.remove('bg-primary', 'text-white');
                    btn.classList.add('hover:bg-primary', 'hover:text-white');
                });
                
                document.querySelectorAll('.time-slot:not(.disabled)').forEach(slot => {
                    slot.classList.remove('border-primary', 'bg-blue-50');
                    slot.classList.add('border-gray-200');
                    const time = slot.dataset.time;
                    if (time) {
                        slot.innerHTML = `<div class="text-sm font-medium">${time}</div>`;
                    }
                });
            };

            // Manager view functions
            window.showLoginModal = function() {
                document.getElementById('login-modal').classList.remove('hidden');
            };

            window.closeLoginModal = function() {
                document.getElementById('login-modal').classList.add('hidden');
            };

            window.performLogin = function(event) {
                event.preventDefault();
                // TODO: Implement actual authentication
                
                // Hide login modal and client view
                document.getElementById('login-modal').classList.add('hidden');
                document.getElementById('client-view').classList.add('hidden');
                document.getElementById('manager-access-btn').classList.add('hidden');
                
                // Show manager view
                document.getElementById('manager-view').classList.remove('hidden');
            };

            window.logout = function() {
                // Hide manager view
                document.getElementById('manager-view').classList.add('hidden');
                
                // Show client view and access button
                document.getElementById('client-view').classList.remove('hidden');
                document.getElementById('manager-access-btn').classList.remove('hidden');
            };

            window.filterByDate = function(type) {
                // TODO: Implement date filtering logic
                console.log('Filtering by:', type);
            };

            window.refreshBookings = function() {
                // TODO: Implement data refresh
                console.log('Refreshing bookings...');
            };

            // Initialize the application
            updateStepIndicators(1);
        })();
    </script>
</body>
</html>